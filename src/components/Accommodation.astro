---
import Menu from './Menu.astro';
import { useTranslations } from '../i18n/utils';
import type { BaseComponentProps } from '../types';
import { Image } from 'astro:assets';
import hotelImage from '../assets/IMG_2727 2.jpeg';
import hotel2Image from '../assets/IMG_2910.JPG';
import sheratonImage from '../assets/sheraton.png';

export interface Props extends BaseComponentProps {
  t?: any; // Make t optional
}

const { lang = 'en', t } = Astro.props;

// Ensure we have a valid translation function
const validT = t || useTranslations(lang);
---

<div class="min-h-screen flex flex-col">
  <!-- Skip link for screen readers -->
  <a
    href="#main-content"
    class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:bg-white focus:px-4 focus:py-2 focus:border focus:border-gray-300"
  >
    {validT('common.skipToContent')}
  </a>

  <!-- Menu - fixed at top -->
  <header class="flex-shrink-0">
    <Menu lang={lang} t={validT} />
  </header>

  <!-- Main content area -->
  <main id="main-content" class="flex-1 flex flex-col p-6 md:p-8">
    <!-- Page Title -->
    <div class="text-center mb-8 md:mb-12 lg:mb-20 flex-shrink-0">
      <h1
        class="text-gray-800 uppercase tracking-wider font-normal text-2xl sm:text-4xl"
        style="letter-spacing: 4px;"
      >
        {validT('accommodation.title')}
      </h1>
    </div>

    <!-- Page Content -->
    <div class="flex-1 flex justify-center">
      <div class="w-full max-w-6xl">
        <!-- Desktop Layout -->
        <div class="hidden md:flex gap-4 h-[28rem]">
          <!-- Large Hotel Card (2/3 width) -->
          <div
            class="flex-2 relative overflow-hidden group cursor-pointer"
            style="flex: 2;"
            onclick="window.open('https://athinasuiteshotel.com/', '_blank')"
          >
            <div class="flex h-full">
              <Image
                src={hotelImage}
                alt={validT('accommodation.athina')}
                width={600}
                height={448}
                loading="lazy"
                sizes="(max-width: 768px) 50vw, 33vw"
                class="w-1/2 h-full object-cover transition-opacity duration-300 group-hover:opacity-0"
              />
              <Image
                src={hotel2Image}
                alt={validT('accommodation.athinaImageAlt')}
                width={600}
                height={448}
                loading="lazy"
                sizes="(max-width: 768px) 50vw, 33vw"
                class="w-1/2 h-full object-cover transition-opacity duration-300 group-hover:opacity-0"
              />
            </div>
            <div
              class="absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/70 to-transparent group-hover:opacity-0 transition-opacity duration-300"
            >
              <h3 class="text-white text-2xl font-normal">{validT('accommodation.athina')}</h3>
            </div>
            <!-- Hover overlay -->
            <div
              class="absolute inset-0 bg-black/90 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center"
            >
              <div class="text-center text-white p-8">
                <h3 class="text-2xl font-normal mb-4">{validT('accommodation.athina')}</h3>
                <p class="text-gray-300 mb-4 leading-relaxed">
                  {validT('accommodation.athinaDescription')}
                </p>
              </div>
            </div>
          </div>

          <!-- Small Hotel Card (1/3 width) -->
          <div
            class="flex-1 relative overflow-hidden group cursor-pointer"
            onclick="window.open('https://www.marriott.com/en-us/hotels/buhsi-sheraton-bucharest-hotel/overview/', '_blank')"
          >
            <Image
              src={sheratonImage}
              alt={validT('accommodation.sheraton')}
              width={600}
              height={448}
              loading="lazy"
              sizes="(max-width: 768px) 100vw, 16vw"
              class="w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-0"
            />
            <div
              class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent group-hover:opacity-0 transition-opacity duration-300"
            >
              <h3 class="text-white text-xl font-normal">{validT('accommodation.sheraton')}</h3>
            </div>
            <!-- Hover overlay -->
            <div
              class="absolute inset-0 bg-black/90 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center"
            >
              <div class="text-center text-white p-6">
                <h3 class="text-xl font-normal mb-3">{validT('accommodation.sheraton')}</h3>
                <p class="text-gray-300 mb-3 leading-relaxed text-sm">
                  {validT('accommodation.sheratonDescription')}
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Mobile Layout -->
        <div class="md:hidden space-y-4">
          <!-- Large Hotel Card -->
          <div
            class="relative overflow-hidden group cursor-pointer h-64"
            onclick="window.open('https://athinasuiteshotel.com/', '_blank')"
          >
            <div class="flex h-full">
              <Image
                src={hotelImage}
                alt={validT('accommodation.athina')}
                width={400}
                height={256}
                loading="lazy"
                class="w-1/2 h-full object-cover transition-opacity duration-300 group-active:opacity-0"
              />
              <Image
                src={hotel2Image}
                alt={validT('accommodation.athinaImageAlt')}
                width={400}
                height={256}
                loading="lazy"
                class="w-1/2 h-full object-cover transition-opacity duration-300 group-active:opacity-0"
              />
            </div>
            <div
              class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent group-active:opacity-0 transition-opacity duration-300"
            >
              <h3 class="text-white text-xl font-normal">Athina Suites Hotel</h3>
            </div>
            <!-- Touch overlay -->
            <div
              class="absolute inset-0 bg-black/90 opacity-0 group-active:opacity-100 transition-opacity duration-300 flex items-center justify-center"
            >
              <div class="text-center text-white p-6">
                <h3 class="text-xl font-normal mb-3">Athina Suites Hotel</h3>
                <p class="text-gray-300 mb-3 leading-relaxed text-sm">
                  Luxury 5-star hotel in the heart of Bucharest, just minutes from the venue.
                  Features elegant rooms, spa facilities, and exceptional service.
                </p>
              </div>
            </div>
          </div>

          <!-- Small Hotel Card -->
          <div
            class="relative overflow-hidden group cursor-pointer h-64"
            onclick="window.open('https://www.marriott.com/en-us/hotels/buhsi-sheraton-bucharest-hotel/overview/', '_blank')"
          >
            <Image
              src={sheratonImage}
              alt={validT('accommodation.sheraton')}
              width={600}
              height={256}
              loading="lazy"
              class="w-full h-full object-cover transition-opacity duration-300 group-active:opacity-0"
            />
            <div
              class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent group-active:opacity-0 transition-opacity duration-300"
            >
              <h3 class="text-white text-xl font-normal">{validT('accommodation.sheraton')}</h3>
            </div>
            <!-- Touch overlay -->
            <div
              class="absolute inset-0 bg-black/90 opacity-0 group-active:opacity-100 transition-opacity duration-300 flex items-center justify-center"
            >
              <div class="text-center text-white p-6">
                <h3 class="text-xl font-normal mb-3">{validT('accommodation.sheraton')}</h3>
                <p class="text-gray-300 mb-3 leading-relaxed text-sm">
                  {validT('accommodation.sheratonDescription')}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
